{
  "version": 1,
  "width": 105,
  "height": 26,
  "duration": 45.254162,
  "command": "tmux attach",
  "title": "reopen: shen vs. native",
  "env": {
    "TERM": "rxvt-unicode-256color",
    "SHELL": "/bin/bash"
  },
  "stdout": [
    [
      0.011119,
      "\u001b[?1049h\u001b[m\u001b(B\u001b\u003e\u001b[H\u001b[2J\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l\u001b[?1005l\u001b[38;5;2m\u001b[13;1H─────────────────────────────────────────────────────\u001b[m\u001b(B────────────────────────────────────────────────────\u001b[?25l\u001b[1;1H\u001b[m\u001b(B[greg@rhodia append]$ \u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\u001b[2B[greg@rhodia append]$ rm log.txt ; touch log.txt ; tail -f log.txt\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[K\r\n\u001b[38;5;0m\u001b[48;5;2m[0] 1:bash*                                                                      \"rhodia\" 09:55 01-May-15\u001b[m\u001b(B\u001b[26;1H\u001b[1;26r\u001b[H\u001b[22C\u001b[?12l\u001b[?25h"
    ],
    [
      0.975001,
      "\u001b[1;12r\u001b[H\u001b[22Cc\u001b[1;26r\u001b[H\u001b[23C"
    ],
    [
      0.235817,
      "\u001b[1;12r\u001b[H\u001b[23Ca\u001b[1;26r\u001b[H\u001b[24C"
    ],
    [
      0.246431,
      "\u001b[1;12r\u001b[H\u001b[24Ct\u001b[1;26r\u001b[H\u001b[25C"
    ],
    [
      0.597192,
      "\u001b[1;12r\u001b[H\u001b[25C \u001b[1;26r\u001b[H\u001b[26C"
    ],
    [
      2.677380,
      "\u001b[1;12r\u001b[H\u001b[26Cr\u001b[1;26r\u001b[H\u001b[27C"
    ],
    [
      0.046307,
      "\u001b[1;12r\u001b[H\u001b[27Ce\u001b[1;26r\u001b[H\u001b[28C"
    ],
    [
      0.071789,
      "\u001b[1;12r\u001b[H\u001b[28Co\u001b[1;26r\u001b[H\u001b[29C"
    ],
    [
      0.030793,
      "\u001b[1;12r\u001b[H\u001b[29Cp\u001b[1;26r\u001b[H\u001b[30C"
    ],
    [
      0.137687,
      "\u001b[1;12r\u001b[H\u001b[30Ce\u001b[1;26r\u001b[H\u001b[31C"
    ],
    [
      0.086172,
      "\u001b[1;12r\u001b[H\u001b[31Cn\u001b[1;26r\u001b[H\u001b[32C"
    ],
    [
      0.174658,
      "\u001b[1;12r\u001b[H\u001b[32C-\u001b[1;26r\u001b[H\u001b[33C"
    ],
    [
      0.505834,
      "\u001b[1;12r\u001b[H\u001b[33Cn\u001b[1;26r\u001b[H\u001b[34C"
    ],
    [
      0.664693,
      "\u001b[1;12r\u001b[H\u001b[34Cative.shen \u001b[1;26r\u001b[H\u001b[45C"
    ],
    [
      0.758124,
      "\r\n"
    ],
    [
      0.000536,
      "\u001b[1;12r\u001b[H\r\n(define reopen\r\n  Path -\u003e (rb.#File.open Path \"a\"))\u001b[5;1H(let Msg (make-string \"Hello at ~A!~%\" (get-time real))\r\n     Out (reopen \"log.txt\")\r\n  (do (pr Msg Out)\r\n      (close Out)))\u001b[1;26r\u001b[H\u001b[8B\u001b[1;12r\u001b[H\u001b[9d[greg@rhodia append]$ \u001b[1;26r\u001b[H\u001b[9;23H"
    ],
    [
      0.964869,
      "\u001b[1;12r\u001b[H\u001b[9;23Hs\u001b[1;26r\u001b[H\u001b[9;24H"
    ],
    [
      0.110928,
      "\u001b[1;12r\u001b[H\u001b[9;24Hh\u001b[1;26r\u001b[H\u001b[9;25H"
    ],
    [
      0.132431,
      "\u001b[1;12r\u001b[H\u001b[9;25He\u001b[1;26r\u001b[H\u001b[9;26H"
    ],
    [
      0.039761,
      "\u001b[1;12r\u001b[H\u001b[9;26Hn\u001b[1;26r\u001b[H\u001b[9;27H"
    ],
    [
      0.412821,
      "\u001b[1;12r\u001b[H\u001b[9;27H-\u001b[1;26r\u001b[H\u001b[9;28H"
    ],
    [
      0.353692,
      "\u001b[1;12r\u001b[H\u001b[9;28Hr\u001b[1;26r\u001b[H\u001b[9;29H"
    ],
    [
      0.181394,
      "\u001b[1;12r\u001b[H\u001b[9;29Hu\u001b[1;26r\u001b[H\u001b[9;30H"
    ],
    [
      0.228447,
      "\u001b[1;12r\u001b[H\u001b[9;30Hb\u001b[1;26r\u001b[H\u001b[9;31H"
    ],
    [
      0.357075,
      "\u001b[1;12r\u001b[H\u001b[9;31Hy\u001b[1;26r\u001b[H\u001b[9;32H"
    ],
    [
      0.087540,
      "\u001b[1;12r\u001b[H\u001b[9;32H \u001b[1;26r\u001b[H\u001b[9;33H"
    ],
    [
      0.305262,
      "\u001b[1;12r\u001b[H\u001b[9;33Hr\u001b[1;26r\u001b[H\u001b[9;34H"
    ],
    [
      0.062730,
      "\u001b[1;12r\u001b[H\u001b[9;34He\u001b[1;26r\u001b[H\u001b[9;35H"
    ],
    [
      0.245318,
      "\u001b[1;12r\u001b[H\u001b[9;35Ho\u001b[1;26r\u001b[H\u001b[9;36H"
    ],
    [
      0.245653,
      "\u001b[1;12r\u001b[H\u001b[9;36Hp\u001b[1;26r\u001b[H\u001b[9;37H"
    ],
    [
      0.146330,
      "\u001b[1;12r\u001b[H\u001b[9;37He\u001b[1;26r\u001b[H\u001b[9;38H"
    ],
    [
      0.094436,
      "\u001b[1;12r\u001b[H\u001b[9;38Hn\u001b[1;26r\u001b[H\u001b[9;39H"
    ],
    [
      0.142842,
      "\u001b[1;12r\u001b[H\u001b[9;39H-\u001b[1;26r\u001b[H\u001b[9;40H"
    ],
    [
      0.219239,
      "\u001b[1;12r\u001b[H\u001b[9;40Hn\u001b[1;26r\u001b[H\u001b[9;41H"
    ],
    [
      0.084000,
      "\u001b[1;12r\u001b[H\u001b[9;41Ha\u001b[1;26r\u001b[H\u001b[9;42H"
    ],
    [
      0.228601,
      "\u001b[1;12r\u001b[H\u001b[9;42Htive.shen \u001b[1;26r\u001b[H\u001b[9;52H"
    ],
    [
      0.909431,
      "\r\n"
    ],
    [
      0.304669,
      "\u001b[?25l\u001b[26d\u001b[38;5;0m\u001b[48;5;2m[0] 1:ruby*                                                                      \"rhodia\" 09:55 01-May-15\u001b[m\u001b(B\u001b[10;1H\u001b[?12l\u001b[?25h"
    ],
    [
      1.266917,
      "\u001b[14;25r\u001b[H\u001b[15dHello at 1430499335.4627438!\u001b[1;26r\u001b[H\u001b[9B"
    ],
    [
      0.006829,
      "\u001b[1;12r\u001b[H\u001b[10d[greg@rhodia append]$ \u001b[1;26r\u001b[H\u001b[10;23H"
    ],
    [
      0.228768,
      "\u001b[?25l\u001b[26;1H\u001b[38;5;0m\u001b[48;5;2m[0] 1:bash*                                                                      \"rhodia\" 09:55 01-May-15\u001b[m\u001b(B\u001b[10;23H\u001b[?12l\u001b[?25h"
    ],
    [
      0.164535,
      "\r\n"
    ],
    [
      0.000067,
      "\u001b[1;12r\u001b[H\u001b[11d[greg@rhodia append]$ \u001b[1;26r\u001b[H\u001b[11;23H"
    ],
    [
      1.377340,
      "\u001b[1;12r\u001b[H\u001b[11;23Hshen-ruby reopen-native.shen \u001b[1;26r\u001b[H\u001b[11;52H"
    ],
    [
      0.314081,
      "\r\n"
    ],
    [
      0.147604,
      "\u001b[?25l\u001b[26d\u001b[38;5;0m\u001b[48;5;2m[0] 1:ruby*                                                                      \"rhodia\" 09:55 01-May-15\u001b[m\u001b(B\u001b[12;1H\u001b[?12l\u001b[?25h"
    ],
    [
      1.411245,
      "\u001b[14;25r\u001b[H\u001b[16dHello at 1430499339.1133368!\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.006428,
      "\u001b[1;12r\u001b[H\u001b[12d[greg@rhodia append]$ \u001b[1;26r\u001b[H\u001b[12;23H"
    ],
    [
      0.084493,
      "\u001b[?25l\u001b[26;1H\u001b[38;5;0m\u001b[48;5;2m[0] 1:bash*                                                                      \"rhodia\" 09:55 01-May-15\u001b[m\u001b(B\u001b[12;23H\u001b[?12l\u001b[?25h"
    ],
    [
      0.284612,
      "\u001b[1;12r\u001b[H\u001b[12;23Hshen-ruby reopen-native.shen \u001b[1;26r\u001b[H\u001b[12;52H"
    ],
    [
      0.155441,
      "\u001b[1;12r\u001b[H\u001b[12d\n\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.060490,
      "\u001b[?25l\u001b[26d\u001b[38;5;0m\u001b[48;5;2m[0] 1:ruby*                                                                      \"rhodia\" 09:55 01-May-15\u001b[m\u001b(B\u001b[12;1H\u001b[?12l\u001b[?25h"
    ],
    [
      1.512105,
      "\u001b[14;25r\u001b[H\u001b[17dHello at 1430499341.2168536!\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.005532,
      "\u001b[1;12r\u001b[H\u001b[12d[greg@rhodia append]$ \u001b[1;26r\u001b[H\u001b[12;23H"
    ],
    [
      0.406241,
      "\u001b[1;12r\u001b[H\u001b[12;23Hc\u001b[1;26r\u001b[H\u001b[12;24H"
    ],
    [
      0.078416,
      "\u001b[?25l\u001b[26;1H\u001b[38;5;0m\u001b[48;5;2m[0] 1:bash*                                                                      \"rhodia\" 09:55 01-May-15\u001b[m\u001b(B\u001b[12;24H\u001b[?12l\u001b[?25h"
    ],
    [
      0.081118,
      "\u001b[1;12r\u001b[H\u001b[12;24Hl\u001b[1;26r\u001b[H\u001b[12;25H"
    ],
    [
      0.139253,
      "\u001b[1;12r\u001b[H\u001b[12;25He\u001b[1;26r\u001b[H\u001b[12;26H"
    ],
    [
      0.101445,
      "\u001b[1;12r\u001b[H\u001b[12;26Ha\u001b[1;26r\u001b[H\u001b[12;27H"
    ],
    [
      0.032414,
      "\u001b[1;12r\u001b[H\u001b[12;27Hr\u001b[1;26r\u001b[H\u001b[12;28H"
    ],
    [
      0.682569,
      "\u001b[1;12r\u001b[H\u001b[12d\n\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.000607,
      "\u001b[1;12r\u001b[H\u001b[K\r\n\u001b[K\u001b[1B\u001b[K\u001b[1B\u001b[K\u001b[1B\u001b[K\u001b[1B\u001b[K\u001b[1B\u001b[K\u001b[1B\u001b[K\u001b[1B\u001b[K\u001b[1B\u001b[K\u001b[1B\u001b[K\u001b[1B\u001b[K\u001b[1;26r\u001b[H"
    ],
    [
      0.000126,
      "\u001b[1;12r[greg@rhodia append]$ \u001b[1;26r\u001b[H\u001b[22C"
    ],
    [
      0.352584,
      "\u001b[1;12r\u001b[H\u001b[22Cc\u001b[1;26r\u001b[H\u001b[23C"
    ],
    [
      0.203906,
      "\u001b[1;12r\u001b[H\u001b[23Ca\u001b[1;26r\u001b[H\u001b[24C"
    ],
    [
      0.182558,
      "\u001b[1;12r\u001b[H\u001b[24Ct\u001b[1;26r\u001b[H\u001b[25C"
    ],
    [
      0.088944,
      "\u001b[1;12r\u001b[H\u001b[25C \u001b[1;26r\u001b[H\u001b[26C"
    ],
    [
      0.623572,
      "\u001b[1;12r\u001b[H\u001b[26Cr\u001b[1;26r\u001b[H\u001b[27C"
    ],
    [
      0.069901,
      "\u001b[1;12r\u001b[H\u001b[27Ce\u001b[1;26r\u001b[H\u001b[28C"
    ],
    [
      0.142285,
      "\u001b[1;12r\u001b[H\u001b[28Co\u001b[1;26r\u001b[H\u001b[29C"
    ],
    [
      0.062900,
      "\u001b[1;12r\u001b[H\u001b[29Cp\u001b[1;26r\u001b[H\u001b[30C"
    ],
    [
      0.536025,
      "\u001b[1;12r\u001b[H\u001b[30Ce\u001b[1;26r\u001b[H\u001b[31C"
    ],
    [
      0.110847,
      "\u001b[1;12r\u001b[H\u001b[31Cn\u001b[1;26r\u001b[H\u001b[32C"
    ],
    [
      0.142385,
      "\u001b[1;12r\u001b[H\u001b[32C-\u001b[1;26r\u001b[H\u001b[33C"
    ],
    [
      0.122160,
      "\u001b[1;12r\u001b[H\u001b[33Cs\u001b[1;26r\u001b[H\u001b[34C"
    ],
    [
      0.111662,
      "\u001b[1;12r\u001b[H\u001b[34Ch\u001b[1;26r\u001b[H\u001b[35C"
    ],
    [
      0.162781,
      "\u001b[1;12r\u001b[H\u001b[35Cen.shen \u001b[1;26r\u001b[H\u001b[43C"
    ],
    [
      0.606799,
      "\r\n"
    ],
    [
      0.001078,
      "\u001b[1;12r\u001b[H\r\n(define reopen\r\n  {string --\u003e (stream out)}\r\n   File -\u003e (let Bytes (read-file-as-bytelist File)\r\n                Stream (open File out)\r\n                Write (map (/. X (write-byte X Stream)) Bytes)\r\n                Stream))\u001b[9;1H(let Msg (make-string \"Hello at ~A!~%\" (get-time real))\r\n     Out (reopen \"log.txt\")\r\n  (do (pr Msg Out)\r\n      (close Out)))\r\n\u001b[1;26r\u001b[H\u001b[11B\u001b[1;12r\u001b[H\u001b[12d[greg@rhodia append]$ \u001b[1;26r\u001b[H\u001b[12;23H"
    ],
    [
      1.911793,
      "\u001b[1;12r\u001b[H\u001b[12;23Hs\u001b[1;26r\u001b[H\u001b[12;24H"
    ],
    [
      0.110753,
      "\u001b[1;12r\u001b[H\u001b[12;24Hh\u001b[1;26r\u001b[H\u001b[12;25H"
    ],
    [
      0.124317,
      "\u001b[1;12r\u001b[H\u001b[12;25He\u001b[1;26r\u001b[H\u001b[12;26H"
    ],
    [
      0.714309,
      "\u0007\u001b[1;12r\u001b[H\u001b[12;26Hn\u001b[1;26r\u001b[H\u001b[12;27H"
    ],
    [
      0.676812,
      "\u001b[1;12r\u001b[H\u001b[12;27H-\u001b[1;26r\u001b[H\u001b[12;28H"
    ],
    [
      0.155377,
      "\u001b[1;12r\u001b[H\u001b[12;28Hr\u001b[1;26r\u001b[H\u001b[12;29H"
    ],
    [
      0.112065,
      "\u001b[1;12r\u001b[H\u001b[12;29Huby \u001b[1;26r\u001b[H\u001b[12;33H"
    ],
    [
      3.385924,
      "\u001b[1;12r\u001b[H\u001b[12;33Hr\u001b[1;26r\u001b[H\u001b[12;34H"
    ],
    [
      0.078298,
      "\u001b[1;12r\u001b[H\u001b[12;34He\u001b[1;26r\u001b[H\u001b[12;35H"
    ],
    [
      0.126673,
      "\u001b[1;12r\u001b[H\u001b[12;35Ho\u001b[1;26r\u001b[H\u001b[12;36H"
    ],
    [
      0.062885,
      "\u001b[1;12r\u001b[H\u001b[12;36Hp\u001b[1;26r\u001b[H\u001b[12;37H"
    ],
    [
      0.161927,
      "\u001b[1;12r\u001b[H\u001b[12;37He\u001b[1;26r\u001b[H\u001b[12;38H"
    ],
    [
      0.118434,
      "\u001b[1;12r\u001b[H\u001b[12;38Hn\u001b[1;26r\u001b[H\u001b[12;39H"
    ],
    [
      0.914214,
      "\u001b[1;12r\u001b[H\u001b[12;39H-\u001b[1;26r\u001b[H\u001b[12;40H"
    ],
    [
      0.130326,
      "\u001b[1;12r\u001b[H\u001b[12;40Hs\u001b[1;26r\u001b[H\u001b[12;41H"
    ],
    [
      0.111074,
      "\u001b[1;12r\u001b[H\u001b[12;41Hh\u001b[1;26r\u001b[H\u001b[12;42H"
    ],
    [
      0.608371,
      "\u001b[1;12r\u001b[H\u001b[12;42Hen.shen \u001b[1;26r\u001b[H\u001b[12;50H"
    ],
    [
      0.718494,
      "\u001b[1;12r\u001b[H\u001b[12d\n\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.240854,
      "\u001b[?25l\u001b[26d\u001b[38;5;0m\u001b[48;5;2m[0] 1:ruby*                                                                      \"rhodia\" 09:55 01-May-15\u001b[m\u001b(B\u001b[12;1H\u001b[?12l\u001b[?25h"
    ],
    [
      1.324201,
      "\u001b[14;25r\u001b[H\u001b[18dtail: log.txt: file truncated\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.000106,
      "\u001b[14;25r\u001b[H\u001b[19dHello at 1430499335.4627438!\r\nHello at 1430499339.1133368!\r\nHello at 1430499341.2168536!\r\nHello at 1430499358.0519927!\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.008240,
      "\u001b[1;12r\u001b[H\u001b[12d[greg@rhodia append]$ \u001b[1;26r\u001b[H\u001b[12;23H"
    ],
    [
      0.169552,
      "\u001b[?25l\u001b[26;1H\u001b[38;5;0m\u001b[48;5;2m[0] 1:bash*                                                                      \"rhodia\" 09:55 01-May-15\u001b[m\u001b(B\u001b[12;23H\u001b[?12l\u001b[?25h"
    ],
    [
      0.621086,
      "\u001b[1;12r\u001b[H\u001b[12;23Hshen-ruby reopen-shen.shen \u001b[1;26r\u001b[H\u001b[12;50H"
    ],
    [
      0.338470,
      "\u001b[1;12r\u001b[H\u001b[12d\n\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.042524,
      "\u001b[?25l\u001b[26d\u001b[38;5;0m\u001b[48;5;2m[0] 1:ruby*                                                                      \"rhodia\" 09:55 01-May-15\u001b[m\u001b(B\u001b[12;1H\u001b[?12l\u001b[?25h"
    ],
    [
      1.549316,
      "\u001b[14;25r\u001b[H\u001b[23dtail: log.txt: file truncated\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.000122,
      "\u001b[14;25r\u001b[H\u001b[24dHello at 1430499335.4627438!\r\nHello at 1430499339.1133368!\r\nHello at 1430499341.2168536!\r\nHello at 1430499358.0519927!\r\nHello at 1430499360.7813542!\r\n\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.006738,
      "\u001b[1;12r\u001b[H\u001b[12d[greg@rhodia append]$ \u001b[1;26r\u001b[H\u001b[12;23H"
    ],
    [
      0.447242,
      "\u001b[?25l\u001b[26;1H\u001b[38;5;0m\u001b[48;5;2m[0] 1:bash*                                                                      \"rhodia\" 09:56 01-May-15\u001b[m\u001b(B\u001b[12;23H\u001b[?12l\u001b[?25h"
    ],
    [
      1.209894,
      "\u001b[1;12r\u001b[H\u001b[12;23Hshen-ruby reopen-shen.shen \u001b[1;26r\u001b[H\u001b[12;50H"
    ],
    [
      0.401877,
      "\u001b[1;12r\u001b[H\u001b[12d\n\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.390814,
      "\u001b[?25l\u001b[26d\u001b[38;5;0m\u001b[48;5;2m[0] 1:ruby*                                                                      \"rhodia\" 09:56 01-May-15\u001b[m\u001b(B\u001b[12;1H\u001b[?12l\u001b[?25h"
    ],
    [
      1.175512,
      "\u001b[14;25r\u001b[H\u001b[25dtail: log.txt: file truncated\r\n\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.000212,
      "\u001b[14;25r\u001b[H\u001b[25dHello at 1430499335.4627438!\r\nHello at 1430499339.1133368!\r\nHello at 1430499341.2168536!\r\nHello at 1430499358.0519927!\r\nHello at 1430499360.7813542!\r\nHello at 1430499364.413532!\r\n\u001b[1;26r\u001b[H\u001b[11B"
    ],
    [
      0.005819,
      "\u001b[1;12r\u001b[H\u001b[12d[greg@rhodia append]$ \u001b[1;26r\u001b[H\u001b[12;23H"
    ],
    [
      0.320681,
      "\u001b[?25l\u001b[26;1H\u001b[38;5;0m\u001b[48;5;2m[0] 1:bash*                                                                      \"rhodia\" 09:56 01-May-15\u001b[m\u001b(B\u001b[12;23H\u001b[?12l\u001b[?25h"
    ],
    [
      1.632481,
      "\u001b[1;26r\u001b[m\u001b(B\u001b\u003e\u001b[H\u001b[2J\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l\u001b[?1005l\u001b[r\u001b[?1049l"
    ],
    [
      0.000186,
      "[detached (from session 0)]\r\n"
    ]
  ]
}